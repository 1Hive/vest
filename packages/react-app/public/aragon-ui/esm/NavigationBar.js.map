{"version":3,"file":"NavigationBar.js","sources":["../../src/components/NavigationBar/NavigationBar.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport { Transition, animated } from 'react-spring/renderprops'\nimport { springs } from '../../style'\nimport LeftIcon from './LeftIcon'\n\nclass NavigationBar extends React.Component {\n  static propTypes = {\n    onBack: PropTypes.func,\n    items: PropTypes.arrayOf(PropTypes.node),\n    compact: PropTypes.bool,\n  }\n  static defaultProps = {\n    onBack: () => {},\n    items: [],\n    compact: false,\n  }\n  state = {\n    cachedItems: null,\n    direction: -1,\n  }\n  static getDerivedStateFromProps(props, state) {\n    const updatedState = { cachedItems: props.items }\n    if (!state.cachedItems) {\n      return updatedState\n    }\n    return {\n      ...updatedState,\n      direction: state.cachedItems.length > props.items.length ? 1 : -1,\n    }\n  }\n  render() {\n    const { onBack, items, compact } = this.props\n    const displayedItems = items\n      .map((node, index) => ({ node, index }))\n      .slice(-1)\n    return (\n      <Container>\n        <Transition\n          items={displayedItems}\n          keys={displayedItems.map(\n            // Use a different key than 0 when there is only one item, so that\n            // the “leave” transition of the first item can be executed when a\n            // second item is added.\n            item => (items.length === 1 ? -1 : item.index)\n          )}\n          config={springs.smooth}\n          initial={null}\n          from={{ opacity: 0, position: this.state.direction * -1 }}\n          enter={{ opacity: 1, position: 0 }}\n          leave={{ opacity: 0, position: this.state.direction }}\n          native\n        >\n          {item => styles => (\n            <Item\n              label={item.node}\n              onBack={onBack}\n              displayBack={item.index > 0}\n              compact={compact}\n              {...styles}\n            />\n          )}\n        </Transition>\n      </Container>\n    )\n  }\n}\n\nconst Item = ({ opacity, position, displayBack, onBack, label, compact }) => (\n  <animated.span\n    style={{\n      display: 'flex',\n      alignItems: 'center',\n      opacity,\n      transform: position.interpolate(p => `translate(${p * 20}px, 0)`),\n    }}\n  >\n    <Title>\n      {displayBack && (\n        <BackButton onClick={onBack} compact={compact}>\n          <LeftIcon />\n        </BackButton>\n      )}\n      <Label>{label}</Label>\n    </Title>\n  </animated.span>\n)\n\nItem.propTypes = {\n  compact: PropTypes.bool,\n  displayBack: PropTypes.bool,\n  label: PropTypes.node,\n  onBack: PropTypes.func,\n  opacity: PropTypes.object,\n  position: PropTypes.object,\n}\n\nconst Container = styled.span`\n  display: flex;\n  position: relative;\n  height: 100%;\n`\n\nconst Title = styled.span`\n  display: flex;\n  align-items: center;\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n`\n\nconst Label = styled.span`\n  display: flex;\n  height: 100%;\n  align-items: center;\n  padding-left: 30px;\n  white-space: nowrap;\n  font-size: 22px;\n`\n\nconst BackButton = styled.span`\n  display: flex;\n  align-items: center;\n  height: 63px;\n  padding: ${p => (p.compact ? '0 16px' : '0 20px 0 30px')};\n  cursor: pointer;\n  svg {\n    color: hsl(179, 76%, 48%);\n  }\n  :active svg {\n    color: hsl(179, 76%, 63%);\n  }\n  & + ${Label} {\n    padding-left: 0;\n  }\n`\n\nexport default NavigationBar\n"],"names":["NavigationBar","cachedItems","direction","props","onBack","items","compact","displayedItems","map","node","index","slice","Transition","item","length","springs","smooth","opacity","position","state","styles","updatedState","React","Component","PropTypes","func","arrayOf","bool","Item","displayBack","label","animated","display","alignItems","transform","interpolate","p","propTypes","object","Container","styled","span","Title","Label","BackButton"],"mappings":"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"}